!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}t.exports=function(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}},function(t,e,n){var a=n(8),o=n(6);t.exports=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?o(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var a=n(9);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},n.apply(this,arguments)}t.exports=n},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){n(12),n(10),t.exports=n(11)},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=a=function(t){return n(t)}:t.exports=a=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},a(e)}t.exports=a},function(t,e){function n(e,a){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,a)}t.exports=n},function(t,e,n){t.exports=n.p+"css/grids.css"},function(t,e,n){t.exports=n.p+"css/frontend.css"},function(t,e,n){"use strict";n.r(e);var a=n(5),o=n.n(a),r=n(0),i=n.n(r),s=n(1),c=n.n(s),l=n(2),d=n.n(l),u=n(3),p=n.n(u),g=n(4),h=n.n(g),b=function(t){var e=t.split("."),n=grids.strings;return $.each(e,function(t,e){if(void 0===n[e])return n=null,!1;n=n[e]}),n||t},_=wp.element,m=_.createElement,v=_.Fragment,k=_.Component,f=wp.components,w=(f.SelectControl,f.TextControl),y=f.Dropdown,x=f.Button,z=f.MenuItem,C=f.Tooltip,S=function(t){function e(){return i()(this,e),d()(this,p()(e).apply(this,arguments))}return h()(e,t),c()(e,[{key:"onChangeValue",value:function(t){var e={value:t,unit:this.props.unit};this.setState(e),this.props.onChange(e)}},{key:"onChangeUnit",value:function(t){var e={value:this.props.value,unit:t};this.setState(e),this.props.onChange(e)}},{key:"unitLabel",value:function(t,e){var n="";return $.each(t,function(){if(this.value===e)return n=this.label,!1}),n}},{key:"render",value:function(){var t=this,e=this,n=[{label:"px",value:"px"},{label:"%",value:"%"},{label:"em",value:"em"},{label:"rem",value:"rem"},{label:"vh",value:"vh"},{label:"vw",value:"vw"}];n.splice(0,0,{label:"-",value:""});var a=this.props.label||b("components.size.value");return m("div",{class:"grids-size-control"},m(w,{label:a,value:this.props.value,onChange:function(e){return t.onChangeValue(e)}}),m(y,{position:"bottom right",renderToggle:function(a){var o=a.isOpen,r=a.onToggle;a.onClose;return m(C,{text:b("components.size.select_unit")},m(x,{onClick:r,"aria-expanded":o},e.unitLabel(n,t.props.unit)))},renderContent:function(t){t.isOpen,t.onToggle;var a=t.onClose,o=[];return $.each(n,function(t,n){var r="";n.value===e.props.unit&&(r="grids-selected"),o.push(m(z,{className:r,onClick:function(){e.onChangeUnit(n.value),a()}},n.label))}),m(v,null,o)}}))}}]),e}(k),B=wp.element,I=B.createElement,O=B.Fragment;var P=function(t){var e,n={top:b("components.spacing.margin_top"),right:b("components.spacing.margin_right"),bottom:b("components.spacing.margin_bottom"),left:b("components.spacing.margin_left")};return I(O,null,I("div",{class:"grids-s-c grids-s-margin"},I("h3",null,b("components.spacing.margin")),(e=[],$.each(n,function(n,a){e.push(I(S,{label:a,advanced:!0,value:t["margin_"+t.breakpoint+"_"+n],unit:t["margin_"+t.breakpoint+"_"+n+"_unit"],max:100,min:-100,initialPosition:0,allowReset:!0,onChange:function(e){return function(e,n){void 0===n.value&&(n.value="");var a={};t["margin_"+t.breakpoint+"_"+e]=n.value,t["margin_"+t.breakpoint+"_"+e+"_unit"]=n.unit,a["margin_"+t.breakpoint+"_"+e]=n.value,a["margin_"+t.breakpoint+"_"+e+"_unit"]=n.unit,t.setState(a),t.onChange(a)}(n,e)}}))}),e)))},T=wp.element,E=T.createElement,j=T.Fragment;var A=function(t){var e,n={top:b("components.spacing.padding_top"),right:b("components.spacing.padding_right"),bottom:b("components.spacing.padding_bottom"),left:b("components.spacing.padding_left")};return E(j,null,E("div",{class:"grids-s-c grids-s-padding"},E("h3",null,b("components.spacing.padding")),(e=[],$.each(n,function(n,a){e.push(E(S,{label:a,advanced:!0,value:t["padding_"+t.breakpoint+"_"+n],unit:t["padding_"+t.breakpoint+"_"+n+"_unit"],max:100,min:0,initialPosition:-100,allowReset:!0,onChange:function(e){return function(e,n){void 0===n.value&&(n.value="");var a={};t["padding_"+t.breakpoint+"_"+e]=n.value,t["padding_"+t.breakpoint+"_"+e+"_unit"]=n.unit,a["padding_"+t.breakpoint+"_"+e]=n.value,a["padding_"+t.breakpoint+"_"+e+"_unit"]=n.unit,t.setState(a),t.onChange(a)}(n,e)}}))}),e)))},N=wp.element,D=N.createElement,G=N.Fragment,F=wp.components.ToggleControl;var M=function(t){return D(G,null,D("div",{class:"grids-s-c grids-s-height"},D("h3",null,b("components.spacing.height")),D("p",null,b("components.spacing.height_help")),D(S,{advanced:!0,value:t["height_"+t.breakpoint],unit:t["height_"+t.breakpoint+"_unit"],max:800,min:0,initialPosition:-800,allowReset:!0,onChange:function(e){return function(e){void 0===e.value&&(e.value="");var n={};n["height_"+t.breakpoint]=e.value,n["height_"+t.breakpoint+"_unit"]=e.unit,t.setState(n),t.onChange(n)}(e)}}),D(F,{label:b("components.spacing.height_fix"),checked:t["height_"+t.breakpoint+"_fix"],onChange:function(e){return function(e){var n={};n["height_"+t.breakpoint+"_fix"]=e,t.setState(n),t.onChange(n)}(e)}})))},J=wp.element.createElement,L=[];$.each(grids.breakpoints,function(t,e){L.push({label:e.label,value:t})});var R=[];$.each(grids.image_sizes,function(t,e){R.push({label:e.label,value:t})});for(var X={1:{name:b("layouts.full"),icon:J("svg",{height:"32",viewBox:"0 0 48 32",width:"48",xmlns:"http://www.w3.org/2000/svg"},J("path",{d:"m46 30v-28h-44v28zm-.2395833-30c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v27.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-43.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-27.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#555d66","fill-rule":"evenodd"})),columns:1,rows:1,layout:[{column:{start:1,end:1},row:{start:1,end:1}}]},"1/2-1/2":{name:b("layouts.50"),icon:J("svg",{height:"32",viewBox:"0 0 48 32",width:"48",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m46 30v-28h-44v28zm-.2395833-30c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v27.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-43.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-27.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m23 2h2v28h-2z"}))),columns:2,rows:1,layout:[{column:{start:1,end:1},row:{start:1,end:1}},{column:{start:2,end:2},row:{start:1,end:1}}]},"1/3-1/3-1/3":{name:b("layouts.33"),icon:J("svg",{height:"32",viewBox:"0 0 48 32",width:"48",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m46 30v-28h-44v28zm-.2395833-30c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v27.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-43.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-27.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m31 2h2v28h-2z"}),J("path",{d:"m15 2h2v28h-2z"}))),columns:3,rows:1,layout:[{column:{start:1,end:1},row:{start:1,end:1}},{column:{start:2,end:2},row:{start:1,end:1}},{column:{start:3,end:3},row:{start:1,end:1}}]},"1/4-1/4-1/4-1/4":{name:b("layouts.25"),icon:J("svg",{height:"32",viewBox:"0 0 48 32",width:"48",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m46 30v-28h-44v28zm-.2395833-30c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v27.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-43.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-27.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m35 2h2v28h-2z"}),J("path",{d:"m11 2h2v28h-2z"}),J("path",{d:"m23 2h2v28h-2z"}))),columns:4,rows:1,layout:[{column:{start:1,end:1},row:{start:1,end:1}},{column:{start:2,end:2},row:{start:1,end:1}},{column:{start:3,end:3},row:{start:1,end:1}},{column:{start:4,end:4},row:{start:1,end:1}}]}},U={2:{"1/2-1/2":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m17 2h2v16h-2z"}))),layout:{columns:2,layout:[{start:1,end:1},{start:2,end:2}]}},"1/3-2/3":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m11 2h2v16h-2z"}))),layout:{columns:3,layout:[{start:1,end:1},{start:2,end:3}]}},"2/3-1/3":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m23 2h2v16h-2z"}))),layout:{columns:3,layout:[{start:1,end:2},{start:3,end:3}]}},"1/4-3/4":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m8 2h2v16h-2z"}))),layout:{columns:4,layout:[{start:1,end:1},{start:2,end:4}]}},"3/4-1/4":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m26 2h2v16h-2z"}))),layout:{columns:4,layout:[{start:1,end:3},{start:4,end:4}]}}},3:{"1/3-1/3-1/3":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m11 2h2v16h-2z"}),J("path",{d:"m23 2h2v16h-2z"}))),layout:{columns:3,layout:[{start:1,end:1},{start:2,end:2},{start:3,end:3}]}},"1/4-1/2-1/4":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m8 2h2v16h-2z"}),J("path",{d:"m26 2h2v16h-2z"}))),layout:{columns:4,layout:[{start:1,end:1},{start:2,end:3},{start:4,end:4}]}},"1/4-1/4-1/2":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m8 2h2v16h-2z"}),J("path",{d:"m17 2h2v16h-2z"}))),layout:{columns:4,layout:[{start:1,end:1},{start:2,end:2},{start:3,end:4}]}},"1/2-1/4-1/4":{icon:J("svg",{height:"20",viewBox:"0 0 36 20",width:"36",xmlns:"http://www.w3.org/2000/svg"},J("g",{fill:"#555d66","fill-rule":"evenodd"},J("path",{d:"m34 18v-16h-32v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-31.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),J("path",{d:"m26 2h2v16h-2z"}),J("path",{d:"m17 2h2v16h-2z"}))),layout:{columns:4,layout:[{start:1,end:2},{start:3,end:3},{start:4,end:4}]}}}},q=wp.element,V=q.createElement,Z=(q.Fragment,q.Component),H=wp.components.SelectControl,W=function(t){function e(){return i()(this,e),d()(this,p()(e).apply(this,arguments))}return h()(e,t),c()(e,[{key:"render",value:function(){var t=this,e="grids-media-switch grids-media-"+this.props.breakpoint;return V("div",{class:e},V(H,{label:b("components.media_switch.device"),value:this.props.breakpoint,options:L,onChange:function(e){return t.props.onChange(e)}}))}}]),e}(Z),K=wp.element.createElement,Q=wp.components,Y=Q.PanelBody,tt=Q.ToggleControl,et=(Q.SelectControl,wp.compose.withState),nt={},at=["top","right","bottom","left"],ot=0;ot<L.length;ot++){for(var rt=0;rt<at.length;rt++)nt["margin_"+L[ot].value+"_"+at[rt]]={type:"string",default:""},nt["padding_"+L[ot].value+"_"+at[rt]]={type:"string",default:""},nt["margin_"+L[ot].value+"_"+at[rt]+"_unit"]={type:"string",default:"px"},nt["padding_"+L[ot].value+"_"+at[rt]+"_unit"]={type:"string",default:"px"};nt["height_"+L[ot].value]={type:"string",default:""},nt["height_"+L[ot].value+"_unit"]={type:"string",default:"px"},nt["height_"+L[ot].value+"_fix"]={type:"boolean",default:!1}}for(var it=et({_test:!0,breakpoint:"desktop"})(function(t){return K(tt,{label:b("components.spacing.advanced"),checked:t.advanced_spacing,onChange:function(){t.setState({advanced_spacing:!t.advanced_spacing});var e={advanced_spacing:!t.advanced_spacing};if(t.advanced_spacing)for(var n=["top","right","bottom","left"],a=0;a<L.length;a++){for(var o=0;o<n.length;o++)e["margin_"+L[a].value+"_"+n[o]+"_unit"]="px",e["padding_"+L[a].value+"_"+n[o]+"_unit"]="px";e["height_"+L[a].value+"_unit"]="px"}t.setState(e),t.onChange(e)}}),K(Y,{title:b("components.spacing.dimensions"),initialOpen:!1},K(W,{breakpoint:t.breakpoint,onChange:function(e){return function(e){t.setState({breakpoint:e})}(e)}}),t.height&&K(M,o()({breakpoint:t.breakpoint,onChange:function(e){t.onChange(e)}},t)),K(P,o()({breakpoint:t.breakpoint,onChange:function(e){t.onChange(e)}},t)),K(A,o()({breakpoint:t.breakpoint,onChange:function(e){t.onChange(e)}},t)))}),st=function t(e,n,a){var o=null;if(n)"grids/section"===n.name&&(a=n),n.innerBlocks&&$.each(n.innerBlocks,function(){return this.clientId===e?(o=a,!1):(this.innerBlocks&&(o=t(e,this,a)),!o&&void 0)});else{var r=wp.data.select("core/block-editor").getBlocks();$.each(r,function(){if(o=t(e,this,a))return!1})}return o},ct=function(){var t=wp.data.select("core/block-editor").getSelectedBlock();return t?"grids/section"===t.name?t:st(t.clientId):null},lt=function(){var t=wp.data.select("core/block-editor").getSelectedBlock();return t?"grids/area"===t.name?t:function t(e,n,a){var o=null;if(n)"grids/area"===n.name&&(a=n),n.innerBlocks&&$.each(n.innerBlocks,function(){return this.clientId===e?(o=a,!1):(this.innerBlocks&&(o=t(e,this,a)),!o&&void 0)});else{var r=wp.data.select("core/block-editor").getBlocks();$.each(r,function(){if(o=t(e,this,a))return!1})}return o}(t.clientId):null},dt=function(t){var e="";if("number"==typeof t){for(var n=0;n<t;n++)e+="1fr ";e=e.trim()}else e=t.join(" ");return e},ut=wp.element,pt=ut.createElement,gt=ut.Fragment,ht=wp.components,bt=ht.PanelBody,_t=ht.Button,mt=ht.ButtonGroup,vt=ht.ToggleControl,kt=ht.Tooltip,ft=(ht.Toolbar,ht.DropdownMenu,ht.Dropdown,wp.compose),wt=ft.withState,yt=ft.createHigherOrderComponent,xt=wp.blockEditor,zt=xt.InspectorControls,Ct=(xt.InspectorAdvancedControls,xt.BlockControls,{stretch:{type:"boolean",default:!0}}),St=0;St<L.length;St++)Ct["gutter_"+L[St].value]={type:"string",default:""},Ct["gutter_"+L[St].value+"_unit"]={type:"string",default:"px"};var Bt=function(t,e){t&&(t.preventDefault(),t.stopPropagation()),wp.data.dispatch("core/block-editor").selectBlock(e.clientId)},It=function(t,e){t&&(t.preventDefault(),t.stopPropagation()),wp.data.dispatch("core/block-editor").selectBlock(e.clientId)};var $t=yt(function(t){return function(e){if("grids/section"==e.name||"grids/area"==e.name)return pt(t,e);var n=lt();if(!n)return pt(t,e);var a=ct();return pt(gt,null,pt(t,e),pt(zt,null,pt(bt,{className:"grids-structure-block"},pt("h3",null,b("components.structure.title")),pt(kt,{text:b("components.structure.select_area")},pt(_t,{isDefault:!0,onClick:function(t){return It(t,n)}},pt("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},pt("g",{fill:"none","fill-rule":"evenodd"},pt("path",{d:"m18 17v-14c0-.55228475-.4477153-1-1-1h-14c-.55228475 0-1 .44771525-1 1v14c0 .5522847.44771525 1 1 1h14c.5522847 0 1-.4477153 1-1zm-.2395833-17c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#0d0d0d"}),pt("rect",{fill:"#35a7ff",height:"10",rx:".6",width:"10",x:"5",y:"5"}))))),pt(kt,{text:b("components.structure.select_section")},pt(_t,{isDefault:!0,onClick:function(t){return Bt(t,a)}},pt("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},pt("g",{fill:"none","fill-rule":"evenodd"},pt("path",{d:"m18 17v-14c0-.55228475-.4477153-1-1-1h-14c-.55228475 0-1 .44771525-1 1v14c0 .5522847.44771525 1 1 1h14c.5522847 0 1-.4477153 1-1zm-.2395833-17c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#0d0d0d"}),pt("rect",{fill:"#ffe605",height:"5",rx:"1",width:"5",x:"3",y:"3"}),pt("rect",{fill:"#35a7ff",height:"14",rx:"1",width:"6",x:"11",y:"3"}),pt("rect",{fill:"#ff404d",height:"6",rx:"1",width:"7",x:"3",y:"11"}),pt("g",{fill:"#0d0d0d"},pt("path",{d:"m2 6h10v1h-10z"}),pt("path",{d:"m6 2h1v4h-1z"}),pt("path",{d:"m8 13h1v5h-1z"}),pt("path",{d:"m12 2h1v10h-1z"}),pt("path",{d:"m2 12h16v1h-16z"})))))))))}},"withInspectorControl");wp.hooks.addFilter("editor.BlockEdit","grids/localize",$t);for(var Ot=wt({breakpoint:"desktop"})(function(t){var e=[],n=wp.data.select("core/block-editor").getSelectedBlock(),a=ct();if(!a)return null;$.each(a.innerBlocks,function(t,a){var o="grids-structure-area";a.clientId===n.clientId&&(o+=" grids-structure-selected");var r={gridColumnStart:a.attributes.column.start,gridColumnEnd:a.attributes.column.end+1,gridRowStart:a.attributes.row.start,gridRowEnd:a.attributes.row.end+1,zIndex:a.attributes.desktop_zIndex};e.push(pt("div",{class:o,style:r,onClick:function(t){return It(t,a)}}))});var o="grids-structure-section";a.clientId===n.clientId&&(o+=" grids-structure-selected");var r=1===a.attributes.rows||1===a.attributes.rows.length,i={gridTemplateColumns:dt(a.attributes.columns),gridTemplateRows:dt(a.attributes.rows)},s=[];if(r){var c=U[a.innerBlocks.length.toString()];if(c){s.push(pt("h4",null,b("components.structure.change_layout")));var l=[];$.each(c,function(t,e){var n=t,o=!1;$.each(e.layout.layout,function(t,e){if(e.start!=a.innerBlocks[t].attributes.column.start||e.end!=a.innerBlocks[t].attributes.column.end)return o=!1,!1;o=!0}),l.push(pt(_t,{onClick:function(){!function(t,e){var n=U[t.innerBlocks.length.toString()][e];$.each(t.innerBlocks,function(t,e){wp.data.dispatch("core/editor").updateBlock(e.clientId,{attributes:{column:n.layout.layout[t]}})}),wp.data.dispatch("core/editor").updateBlock(t.clientId,{attributes:{columns:n.layout.columns,_test:!t.attributes._test}})}(a,n)},className:o?"grids-active":""},e.icon))}),s.push(pt("div",{class:"grids-structure-buttons-group"},pt(mt,{"aria-label":b("components.structure.change_layout")},l)))}}var d=pt(gt,null,pt("h4",null,b("components.structure.settings")),pt(vt,{label:b("components.structure.equal_heights"),checked:t.stretch,onChange:function(){return function(t){var e=ct(),n={stretch:!t.stretch};t.setState(n),wp.data.dispatch("core/editor").updateBlock(e.clientId,{attributes:n}),$.each(e.innerBlocks,function(t,e){wp.data.dispatch("core/editor").updateBlock(e.clientId,{attributes:{_test:!e.attributes._test}})})}(t)}}));return pt(bt,{className:"grids-structure-component"},pt("h3",null,b("components.structure.title")),pt("div",{class:o,style:i,onClick:function(t){return Bt(t,a)}},e),"grids/section"==n.name&&r&&s,"grids/section"==n.name&&r&&d)}),Pt=function(t,e,n){e.action="grids_"+t,$.ajax({url:ajaxurl,data:e,complete:n})},Tt=wp.element,Et=Tt.createElement,jt=Tt.Fragment,At=wp.components,Nt=At.PanelBody,Dt=At.Button,Gt=At.ColorPalette,Ft=At.SelectControl,Mt=At.ToggleControl,Jt=At.FocalPointPicker,Lt=wp.blockEditor.MediaUpload,Rt=wp.compose.withState,Xt={},Ut=0;Ut<L.length;Ut++)Xt["background_"+L[Ut].value+"_image"]={type:"number",default:0},Xt["background_"+L[Ut].value+"_color"]={type:"string",default:""},Xt["background_"+L[Ut].value+"_image_size"]={type:"string",default:"full"},Xt["background_"+L[Ut].value+"_repeat"]={type:"string",default:"no-repeat"},Xt["background_"+L[Ut].value+"_position_x"]={type:"number",default:.5},Xt["background_"+L[Ut].value+"_position_y"]={type:"number",default:.5},Xt["background_"+L[Ut].value+"_position_advanced"]={type:"boolean",default:!1},Xt["background_"+L[Ut].value+"_size"]={type:"string",default:"auto"},Xt["background_"+L[Ut].value+"_attachment"]={type:"string",default:"scroll"},Xt["background_"+L[Ut].value+"_stretch"]={type:"boolean",default:!1};var qt=function(t,e,n){Pt("get_image_url_by_id",{image_size:e,id:t},n)};for(var Vt=Rt({breakpoint:"desktop",preview:"",preview_id:0,position:"center center",focal_point:{x:.5,y:.5}})(function(t){var e=JSON.parse(JSON.stringify(t));function n(e){if(void 0===e&&(e=t["background_"+t.breakpoint+"_image"]),e!==t.preview_id){var n=t["background_"+t.breakpoint+"_image_size"];qt(e,n,function(n){t.setState({preview:n.responseText,preview_id:e})})}}function a(e){var n={};n["background_"+t.breakpoint+"_position_advanced"]=e,e||(n["background_"+t.breakpoint+"_position_x"]=.5,n["background_"+t.breakpoint+"_position_y"]=.5),t.setState(n),t.onChange(n)}var o=wp.data.select("core/editor").getEditorSettings().colors,r="",i="";switch(t["background_"+t.breakpoint+"_position_x"]){case 0:r="left";break;case.5:r="center";break;case 1:r="right"}switch(t["background_"+t.breakpoint+"_position_y"]){case 0:i="top";break;case.5:i="center";break;case 1:i="bottom"}return e.position=i+" "+r,e.focal_point={x:t["background_"+t.breakpoint+"_position_x"],y:t["background_"+t.breakpoint+"_position_y"]},n(),Et(Nt,{title:b("components.background.title"),initialOpen:!1},Et(W,{breakpoint:t.breakpoint,onChange:function(e){return function(e){t.setState({breakpoint:e}),n()}(e)}}),Et("div",{class:"grid-background-fields"},!0===e.stretch&&Et(Mt,{label:b("components.background.stretch"),checked:t["background_"+t.breakpoint+"_stretch"],onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_stretch"]=e,t.onChange(n)}(e)}}),Et("h3",null,b("components.background.color")),Et(Gt,{colors:o,value:t["background_"+t.breakpoint+"_color"],onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_color"]=e.color,t.onChange(n)}({color:e})}}),Et("div",{class:"grids-media-upload"},Et("h3",null,b("components.background.image")),Et("div",{className:"grids-media-img",style:{backgroundImage:"url("+t.preview+")"}}),Et(Lt,{allowedTypes:"image/*",onSelect:function(e){return function(e){var a={};a["background_"+t.breakpoint+"_image"]=e.id,t["background_"+t.breakpoint+"_image_size"],t.onChange(a),n(e.id)}(e)},value:t["background_"+t.breakpoint+"_image"],render:function(t){var e=t.open;return Et(Dt,{isDefault:!0,onClick:e},b("components.background.media_library"))}}),0!=t["background_"+t.breakpoint+"_image"]&&Et(Dt,{isDefault:!0,onClick:function(){var e={};e["background_"+t.breakpoint+"_image"]=0,t.setState({preview:"",preview_id:0}),t.onChange(e)}},b("components.background.remove_image"))),0!=t["background_"+t.breakpoint+"_image"]&&Et(jt,null,Et("div",{class:"grids-background-ctrls"},Et(Ft,{label:b("components.background.image_size"),value:t["background_"+t.breakpoint+"_image_size"],options:R,onChange:function(e){return function(e){var a={};a["background_"+t.breakpoint+"_image_size"]=e,t.onChange(a),n()}(e)}}),Et(Ft,{label:b("components.background.repeat"),value:t["background_"+t.breakpoint+"_repeat"],options:[{label:b("components.background.no_repeat"),value:"no-repeat"},{label:b("components.background.repeat_both"),value:"repeat"},{label:b("components.background.repeat_x"),value:"repeat-x"},{label:b("components.background.repeat_y"),value:"repeat-y"}],onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_repeat"]=e,t.onChange(n)}(e)}}),!t["background_"+t.breakpoint+"_position_advanced"]&&Et(jt,null,Et(Ft,{label:b("components.background.position"),value:e.position,options:[{label:b("components.background.position_top_left"),value:"top left"},{label:b("components.background.position_top_center"),value:"top center"},{label:b("components.background.position_top_right"),value:"top right"},{label:b("components.background.position_center_left"),value:"center left"},{label:b("components.background.position_center_center"),value:"center center"},{label:b("components.background.position_center_right"),value:"center right"},{label:b("components.background.position_bottom_left"),value:"bottom left"},{label:b("components.background.position_bottom_center"),value:"bottom center"},{label:b("components.background.position_bottom_right"),value:"bottom right"}],onChange:function(e){return function(e){var n={},a=0,o=0;switch(e){case"top left":break;case"top center":a=.5;break;case"top right":a=1;break;case"center left":o=.5;break;case"center center":o=.5,a=.5;break;case"center right":o=.5,a=1;break;case"bottom left":o=1;break;case"bottom center":o=1,a=.5;break;case"bottom right":o=1,a=1}n["background_"+t.breakpoint+"_position_x"]=a,n["background_"+t.breakpoint+"_position_y"]=o,t.setState(n),t.onChange(n)}(e)}}),void 0!==Jt&&Et(Mt,{checked:t["background_"+t.breakpoint+"_position_advanced"],label:b("components.background.select_focal_point"),onChange:function(t){return a(t)}})),t["background_"+t.breakpoint+"_position_advanced"]&&Et(jt,null,Et(Jt,{label:b("components.background.focal_point"),url:t.preview,value:e.focal_point,onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_position_x"]=e.x,n["background_"+t.breakpoint+"_position_y"]=e.y,t.setState(n),t.onChange(n)}(e)}}),Et(Mt,{checked:t["background_"+t.breakpoint+"_position_advanced"],label:b("components.background.back_to_simple_positioning"),onChange:function(t){return a(t)}})),Et(Ft,{label:b("components.background.size"),value:t["background_"+t.breakpoint+"_size"],options:[{label:b("components.background.size_cover"),value:"cover"},{label:b("components.background.size_contain"),value:"contain"},{label:b("components.background.size_auto"),value:"auto"}],onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_size"]=e,t.onChange(n)}(e)}}),Et(Ft,{label:b("components.background.attachment"),value:t["background_"+t.breakpoint+"_attachment"],options:[{label:b("components.background.attachment_scroll"),value:"scroll"},{label:b("components.background.attachment_fixed"),value:"fixed"}],onChange:function(e){return function(e){var n={};n["background_"+t.breakpoint+"_attachment"]=e,t.onChange(n)}(e)}})))))}),Zt=n(6),Ht=n.n(Zt),Wt=wp.element,Kt=Wt.createElement,Qt=Wt.Component,Yt=wp.components,te=Yt.PanelBody,ee=Yt.ToggleControl,ne=Yt.TextControl,ae=(wp.compose.withState,{}),oe=0;oe<L.length;oe++)ae[L[oe].value+"_display"]={type:"boolean",default:!0},ae[L[oe].value+"_zIndex"]={type:"string",default:"0"};var re=function(t){function e(){var t;i()(this,e),t=d()(this,p()(e).apply(this,arguments));Ht()(Ht()(t));return t.state={breakpoint:"desktop"},t}return h()(e,t),c()(e,[{key:"changeZIndex",value:function(t){var e={};e[this.state.breakpoint+"_zIndex"]=t,this.setState({zIndex:t}),this.props.onChange(e)}},{key:"changeDisplay",value:function(t){var e={};e[this.state.breakpoint+"_display"]=t,this.setState({display:t}),this.props.onChange(e)}},{key:"changeBreakpoint",value:function(t){this.setState({breakpoint:t})}},{key:"render",value:function(){var t=this;return Kt(te,{title:b("components.display.title"),initialOpen:!1},Kt(W,{breakpoint:this.state.breakpoint,onChange:function(e){return t.changeBreakpoint(e)}}),Kt(ee,{checked:this.props[this.state.breakpoint+"_display"],label:b("components.display.display"),onChange:function(e){return t.changeDisplay(e)}}),Kt(ne,{type:"number",value:this.props[this.state.breakpoint+"_zIndex"],label:b("components.display.zIndex"),onChange:function(e){return t.changeZIndex(e)}}))}}]),e}(Qt),ie=function(t){var e='style[data-selector="'+t+'"]',n=!1;0===$(e).length&&(n=!0,$("body").append('<style data-selector="'+t+'"></style>'));var a=$(e);if(n){a.html([].join("\n"))}return a},se=function(t,e,n){0!=t&&qt(t,e,function(t){if(""!==t.responseText.trim()){var e=n.html();e=e.replace("/* background_desktop_image */","url("+t.responseText+")"),n.html(e)}})},ce=function(t,e,n){var a=t.attributes.blockId,o=[".grids-aw-"+a,"#clone-block-"+a];void 0===window._grids_block_props&&(window._grids_block_props={}),void 0===window._grids_block_props[a]&&(window._grids_block_props[a]={});var r=window._grids_block_props[a],i=ie(a),s=o.join(",")+"{";$.each(["columns","rows","height","gutter","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","background-color","background-repeat","background-size","background-attachment","background-position-x","background-position-y"],function(e,n){switch(n){case"columns":case"rows":if(void 0!==t.attributes[n]){var a="";if("number"==typeof t.attributes[n]){for(var o=0;o<t.attributes[n];o++)a+="rows"==n?"auto ":"1fr ";a=a.trim()}else a=t.attributes[n].join(" ");s+="--section-"+n+":"+a+";"}break;case"height":""!==t.attributes.height_desktop&&(s+="--section-"+n+":"+t.attributes.height_desktop+t.attributes.height_desktop_unit+";");break;case"gutter":var r=wp.data.select("grids").getGutterX("desktop");""!==r.value&&""!==r.unit?s+="--section-"+n+":"+r.value+r.unit+";":s+="--section-"+n+":0px;";break;case"margin-top":if(""!==t.attributes.margin_desktop_top){s+="--section-"+n+":"+t.attributes.margin_desktop_top+t.attributes.margin_desktop_top_unit+";";var i=t.attributes.margin_desktop_top;i<0&&(i=0),s+="--section-border-"+n+":"+i+t.attributes.margin_desktop_top_unit+";"}break;case"margin-right":if(""!==t.attributes.margin_desktop_right){s+="--section-"+n+":"+t.attributes.margin_desktop_right+t.attributes.margin_desktop_right_unit+";";var c=t.attributes.margin_desktop_right;c<0&&(c=0),s+="--section-border-"+n+":"+c+t.attributes.margin_desktop_right_unit+";"}break;case"margin-bottom":if(""!==t.attributes.margin_desktop_bottom){s+="--section-"+n+":"+t.attributes.margin_desktop_bottom+t.attributes.margin_desktop_bottom_unit+";";var l=t.attributes.margin_desktop_bottom;l<0&&(l=0),s+="--section-border-"+n+":"+l+t.attributes.margin_desktop_bottom_unit+";"}break;case"margin-left":if(""!==t.attributes.margin_desktop_left){s+="--section-"+n+":"+t.attributes.margin_desktop_left+t.attributes.margin_desktop_left_unit+";";var d=t.attributes.margin_desktop_left;d<0&&(d=0),s+="--section-border-"+n+":"+d+t.attributes.margin_desktop_left_unit+";"}break;case"padding-top":""!==t.attributes.padding_desktop_top&&(s+="--section-"+n+":"+t.attributes.padding_desktop_top+t.attributes.padding_desktop_top_unit+";");break;case"padding-right":""!==t.attributes.padding_desktop_right&&(s+="--section-"+n+":"+t.attributes.padding_desktop_right+t.attributes.padding_desktop_right_unit+";");break;case"padding-bottom":""!==t.attributes.padding_desktop_bottom&&(s+="--section-"+n+":"+t.attributes.padding_desktop_bottom+t.attributes.padding_desktop_bottom_unit+";");break;case"padding-left":""!==t.attributes.padding_desktop_left&&(s+="--section-"+n+":"+t.attributes.padding_desktop_left+t.attributes.padding_desktop_left_unit+";");break;case"background-color":""!==t.attributes.background_desktop_color&&(s+="--section-"+n+":"+t.attributes.background_desktop_color+";");break;case"background-repeat":""!==t.attributes.background_desktop_repeat&&(s+="--section-"+n+":"+t.attributes.background_desktop_repeat+";");break;case"background-size":""!==t.attributes.background_desktop_size&&(s+="--section-"+n+":"+t.attributes.background_desktop_size+";");break;case"background-attachment":""!==t.attributes.background_desktop_attachment&&(s+="--section-"+n+":"+t.attributes.background_desktop_attachment+";");break;case"background-position-x":""!==t.attributes.background_desktop_position_x&&(s+="--section-"+n+":"+100*t.attributes.background_desktop_position_x+"%;");break;case"background-position-y":""!==t.attributes.background_desktop_position_y&&(s+="--section-"+n+":"+100*t.attributes.background_desktop_position_y+"%;")}});var c="";n.attributes.align&&"wide"===n.attributes.align&&n.attributes.background_desktop_stretch&&(c="calc( 50% - 50vw );"),c&&(s+="--section-background-stretch-margin:"+c),0==t.attributes.desktop_display&&(s+="--section-display-opacity:0.4;"),s+="}",n&&$.each(n.innerBlocks,function(t,e){var n=["#block-"+e.clientId,"#clone-block-"+e.clientId];s+=n.join(",")+"{";var a=["start","end"];$.each(["column","row"],function(t,o){$.each(a,function(t,a){var r="--area-"+o+"-"+a,i=e.attributes[o][a];"end"===a&&(i+=1),s+=r+":"+i+";",$(n.join(",")).each(function(){this.style.setProperty(r,i)})})}),s+="}"}),i.html(s),""!==t.attributes.background_desktop_image&&r.background_desktop_image!==t.attributes.background_desktop_image&&(i=ie(a+"-background-image"),s=o.join(",")+"{",s+="--section-background-image:/* background_desktop_image */;",e&&void 0!==e.background_desktop_image&&e.background_desktop_image(t.attributes.background_desktop_image,i),s+="}",i.html(s)),window._grids_block_props[a]=Object.assign({},r,t.attributes)},le=wp.element,de=le.createElement,ue=le.Fragment,pe=le.Component,ge=wp.components,he=ge.Button,be=ge.ButtonGroup,_e=ge.Tooltip,me=function(t){function e(){var t;return i()(this,e),(t=d()(this,p()(e).apply(this,arguments))).state={designer:{columns:12,rows:6},rows:0,columns:0,designing:t.props.designing||!1,layout:t.props.layout||[],insertLabel:t.props.insertLabel||b("section.placeholder.insert_in_page")},t}return h()(e,t),c()(e,[{key:"componentDidMount",value:function(){this.state.designing&&this.bindGridDesigner()}},{key:"componentDidUpdate",value:function(){this.state.designing&&this.bindGridDesigner()}},{key:"bindGridDesigner",value:function(){var t=ReactDOM.findDOMNode(this),e=this;$(".grids-advanced-composer-grid",t).selectable({stop:function(n,a){var o=$(".ui-selected",t);if(0!==o.length){var r=e.state.designer.columns;e.state.designer.rows;if(o){var i=o.first(),s=o.last(),c={column:i.index()%r+1,row:parseInt(i.index()/r,10)+1},l={column:s.index()%r+1,row:parseInt(s.index()/r,10)+1},d={column:{start:c.column,end:l.column},row:{start:c.row,end:l.row},order:e.state.layout.length+1};e.addArea(d)}$(".ui-selected",t).removeClass("ui-selected")}}});var n=$(".grids-designer-cell",t).outerWidth()+6;$(".grids-advanced-composer-areas .grids-designer-area",t).draggable({helper:"clone",grid:[n,n],start:function(){var t=$(this).attr("data-id");$.each(e.state.layout,function(n,a){if(a._id==t)return e._dragged_cell=a,!1}),e._start_column=JSON.parse(JSON.stringify(e._dragged_cell.column)),e._start_row=JSON.parse(JSON.stringify(e._dragged_cell.row))},drag:function(t,a){var o=(a.position.left-a.originalPosition.left)/n,r=(a.position.top-a.originalPosition.top)/n;e._dragged_cell.column.start=e._start_column.start+o,e._dragged_cell.column.end=e._start_column.end+o,e._dragged_cell.column.start<1&&(e._dragged_cell.column.end=e._dragged_cell.column.end-e._dragged_cell.column.start+1,e._dragged_cell.column.start=1),e._dragged_cell.column.end>e.state.designer.columns&&(e._dragged_cell.column.start=e.state.designer.columns-(e._dragged_cell.column.end-e._dragged_cell.column.start),e._dragged_cell.column.end=e.state.designer.columns),e._dragged_cell.row.start=e._start_row.start+r,e._dragged_cell.row.end=e._start_row.end+r,e._dragged_cell.row.start<1&&(e._dragged_cell.row.end=e._dragged_cell.row.end-e._dragged_cell.row.start+1,e._dragged_cell.row.start=1),e._dragged_cell.row.end>e.state.designer.rows&&(e._dragged_cell.row.start=e.state.designer.rows-(e._dragged_cell.row.end-e._dragged_cell.row.start),e._dragged_cell.row.end=e.state.designer.rows),e.setState({layout:e.state.layout})}}),$(".grids-advanced-composer-areas .grids-designer-area",t).resizable({containment:"parent",handles:"all",start:function(){var t=$(this).attr("data-id");$.each(e.state.layout,function(n,a){if(a._id==t)return e._dragged_cell=a,!1}),e._start_column=JSON.parse(JSON.stringify(e._dragged_cell.column)),e._start_row=JSON.parse(JSON.stringify(e._dragged_cell.row))},resize:function(t,a){var o=(a.size.width-a.originalSize.width)/n,r=(a.size.height-a.originalSize.height)/n;o=Math.ceil(o),r=Math.ceil(r),$(this).css({width:"",left:"",height:"",top:""}),a.position.left==a.originalPosition.left?e._dragged_cell.column.end=e._start_column.end+o:e._dragged_cell.column.start=e._start_column.start+-1*o,a.position.top==a.originalPosition.top?e._dragged_cell.row.end=e._start_row.end+r:e._dragged_cell.row.start=e._start_row.start+-1*r,e.setState({layout:e.state.layout})},stop:function(){$(this).css("width",""),$(this).css("height",""),$(this).css("left",""),$(this).css("top","")}}),$(".grids-advanced-areas ul",t).sortable({axis:"y",start:function(t,n){e._start=n.item.index()},stop:function(t,n){e._end=n.item.index(),e.swapAreas(e._start,e._end)}})}},{key:"swapAreas",value:function(t,e){this.state.layout=function(t,e,n){for(;e<0;)e+=t.length;for(;n<0;)n+=t.length;if(n>=t.length)for(var a=n-t.length+1;a--;)t.push(void 0);return t.splice(n,0,t.splice(e,1)[0]),t}(this.state.layout,t,e)}},{key:"addArea",value:function(t){this.state.layout.push(Object.assign({},t,{id:t.order,_id:t.order})),t.column.end>this.state.columns&&(this.state.columns=t.column.end),this.setState({layout:this.state.layout,rows:this.state.rows})}},{key:"removeArea",value:function(t){var e=this.state.layout[t];isNaN(e.id)&&wp.data.dispatch("core/editor").removeBlock(e.id,!1),this.state.layout.splice(t,1),$.each(this.state.layout,function(t,e){e._id=t+1}),this.setState({layout:this.state.layout})}},{key:"consolidateLayout",value:function(){var t=this;$.each(t.state.layout,function(e,n){if(n.row.end>t.state.rows&&(t.state.rows=n.row.end),isNaN(n.id))wp.data.dispatch("core/block-editor").updateBlockAttributes(n.id,n),wp.data.dispatch("core/block-editor").moveBlockToPosition(n.id,t.props.section.clientId,t.props.section.clientId,e);else{var a=wp.blocks.createBlock("grids/area",n);wp.data.dispatch("core/block-editor").insertBlock(a,e,t.props.section.clientId)}}),this.props.onChange({columns:this.state.designer.columns,rows:this.state.designer.rows,grid:"1"},this.props.section)}},{key:"selectLayout",value:function(t){var e=this;$.each(t.layout,function(t,n){var a=wp.blocks.createBlock("grids/area",n);wp.data.dispatch("core/block-editor").insertBlock(a,t,e.props.section.clientId)}),this.props.onChange({columns:t.columns,rows:t.rows,grid:"1"},this.props.section)}},{key:"renderInitialSelection",value:function(){var t=[],e=this;return $.each(e.props.presets,function(n,a){t.push(de(he,{onClick:function(){return e.selectLayout(a)}},a.icon))}),t.push(de(_e,{text:b("section.placeholder.grid_designer")},de(he,{onClick:function(){return e.setState({designing:!0})}},de("svg",{height:"32",viewBox:"0 0 48 32",width:"48",xmlns:"http://www.w3.org/2000/svg"},de("g",{fill:"#555d66","fill-rule":"evenodd"},de("path",{d:"m46 30v-28h-44v28zm-.2395833-30c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v27.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-43.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-27.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}),de("path",{d:"m2 19h16v2h-16z"}),de("path",{d:"m18 9h12v2h-12z"}),de("path",{d:"m32 14h15v2h-15z"}),de("path",{d:"m18 2h2v28h-2z"}),de("path",{d:"m30 2h2v28h-2z"}),de("path",{d:"m38 16h2v14h-2z"})))))),de(ue,null,de("div",null,b("section.placeholder.select_layout_help")),de(be,{"aria-label":b("section.placeholder.select_layout")},t))}},{key:"renderGridDesigner",value:function(){for(var t,e=[],n=[],a=this,o=0;o<a.state.designer.columns;o++)for(var r=0;r<a.state.designer.rows;r++)e.push(de("div",{class:"grids-designer-cell"}));return $.each(a.state.layout,function(t,e){n.push(de("div",{class:"grids-designer-area","data-id":e._id,style:{gridColumnStart:e.column.start,gridColumnEnd:e.column.end+1,gridRowStart:e.row.start,gridRowEnd:e.row.end+1}},de("span",{class:"grids-designer-area-id"},e._id)))}),de(ue,null,de("div",null,b("section.placeholder.grid_designer_help")),de("div",{class:"grids-advanced-w"},de("div",{class:"grids-advanced-composer"},de("div",{class:"grids-advanced-composer-grid-container"},de("div",{class:"grids-advanced-composer-grid"},e),de("div",{class:"grids-advanced-composer-areas"},e,n))),de("div",{class:"grids-advanced-areas"},de("ul",null,(t=[],$.each(a.state.layout,function(e,n){t.push(de("li",{class:"grids-advanced-area","data-index":e},de("span",{class:"grids-advanced-area-id"},n._id),de(_e,{text:b("section.placeholder.remove_area")},de("button",{class:"grids-advanced-area-remove",onClick:function(){return a.removeArea(e)}},de("svg",{height:"6",viewBox:"0 0 6 6",width:"6",xmlns:"http://www.w3.org/2000/svg"},de("path",{d:"m4.94117647 0 1.05882353 1.05882353-1.94117647 1.94117647 1.94117647 1.94117647-1.05882353 1.05882353-1.94117647-1.94117647-1.94117647 1.94117647-1.05882353-1.05882353 1.94117647-1.94117647-1.94117647-1.94117647 1.05882353-1.05882353 1.94117647 1.94117647z",fill:"#fff","fill-rule":"evenodd"}))))))}),t)))),a.state.layout.length>0&&de(he,{isPrimary:!0,onClick:function(){return a.consolidateLayout()}},a.state.insertLabel))}},{key:"render",value:function(){return de("div",{class:"grids-placeholder"},!this.state.designing&&this.renderInitialSelection(),this.state.designing&&this.renderGridDesigner())}}]),e}(pe),ve=wp.blocks.registerBlockType,ke=wp.element,fe=ke.createElement,we=ke.Fragment,ye=wp.blockEditor,xe=ye.InnerBlocks,ze=ye.InspectorControls,Ce=ye.BlockControls,Se=wp.components,Be=Se.Placeholder,Ie=(Se.Button,Se.ButtonGroup,Se.Toolbar),$e=Se.IconButton,Oe=wp.compose.withState,Pe=Object.assign({blockId:{type:"string",default:""},grid:{type:"string",default:"0"},_test:{type:"boolean",source:"internal",default:!1},columns:{type:"integer",default:0},rows:{type:"integer",default:0},advanced_spacing:{type:"boolean",default:!1},anchorID:{type:"string",default:""}},Ct,ae,nt,Xt),Te=JSON.parse(JSON.stringify(Pe)),Ee=(ve("grids/section",{title:b("section.title"),description:b("section.description"),category:"layout",supports:{html:!1,align:["wide","full"],anchor:!0},icon:fe("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},fe("g",{fill:"none","fill-rule":"evenodd"},fe("path",{d:"m18 17v-14c0-.55228475-.4477153-1-1-1h-14c-.55228475 0-1 .44771525-1 1v14c0 .5522847.44771525 1 1 1h14c.5522847 0 1-.4477153 1-1zm-.2395833-17c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#0d0d0d"}),fe("rect",{fill:"#ffe605",height:"5",rx:"1",width:"5",x:"3",y:"3"}),fe("rect",{fill:"#35a7ff",height:"14",rx:"1",width:"6",x:"11",y:"3"}),fe("rect",{fill:"#ff404d",height:"6",rx:"1",width:"7",x:"3",y:"11"}),fe("g",{fill:"#0d0d0d"},fe("path",{d:"m2 6h10v1h-10z"}),fe("path",{d:"m6 2h1v4h-1z"}),fe("path",{d:"m8 13h1v5h-1z"}),fe("path",{d:"m12 2h1v10h-1z"}),fe("path",{d:"m2 12h16v1h-16z"})))),attributes:Te,edit:Oe({firstInsert:!1,editing:!1,afterEdit:!1})(function(t){t.attributes.blockId!==t.clientId&&t.setAttributes({blockId:t.clientId});var e=wp.data.select("core/block-editor").getBlock(t.clientId);function n(){ce(t,{background_desktop_image:function(e,n){se(e,t.background_desktop_image_size,n)}},e)}if(e.attributes.anchor&&t.setAttributes({anchorID:e.attributes.anchor}),n(),window.grids.data.subscribe(n),"1"==t.attributes.grid){if(t.editing){var a=[];return $.each(e.innerBlocks,function(t,e){a.push({order:e.attributes.order,id:e.clientId,_id:t+1,column:e.attributes.column,row:e.attributes.row,zIndex:e.attributes.desktop_zIndex})}),fe(Be,{key:"placeholder",label:b("section.layout")},fe(me,{section:e,designing:!0,layout:a,insertLabel:b("section.placeholder.confirm_layout_change"),onChange:function(e,n){return function(e,n){t.setAttributes(e),t.setState({firstInsert:!1,editing:!1,afterEdit:!0})}(e)}}))}var r=1===t.attributes.rows||void 0!==t.attributes.rows.length&&1===t.attributes.rows.length,i=fe(we,null,fe(ze,null,fe(Ot,t.attributes),fe(re,o()({onChange:function(e){t.setAttributes(e)}},t.attributes)),fe(it,o()({onChange:function(e){return t.setAttributes(e)},height:!0},t.attributes)),fe(Vt,o()({onChange:function(e){return t.setAttributes(e)}},t.attributes,{stretch:"wide"===e.attributes.align}))),!r&&fe(Ce,null,fe(Ie,null,fe($e,{className:"components-toolbar__control",label:b("section.edit"),icon:"edit",onClick:function(){return t.setState({editing:!0})}}))));if(0===e.innerBlocks.length)if(r)$.each(X,function(n,a){a.columns===t.attributes.columns&&a.rows===t.attributes.rows&&$.each(a.layout,function(t,n){n.id=t+1,n._id=t+1,n.order=t+1;var a=wp.blocks.createBlock("grids/area",n);wp.data.dispatch("core/block-editor").insertBlock(a,t,e.clientId)})});else{var s={id:1,_id:1,order:1,column:{start:1,end:13},row:{start:1,end:7}},c=wp.blocks.createBlock("grids/area",s);wp.data.dispatch("core/block-editor").insertBlock(c,0,e.clientId)}var l="grids-areas-wrapper";l+=" grids-aw-"+t.attributes.blockId,t.attributes.stretch&&(l+=" grids-stretch");var d=null;return t.firstInsert||t.afterEdit?(d=fe(xe,{template:null,templateLock:null,allowedBlocks:["grids/area"]}),t.firstInsert&&wp.data.dispatch("core/block-editor").selectBlock(e.innerBlocks[0].clientId),t.setState({afterEdit:!1,firstInsert:!1})):d=fe(xe,{template:null,templateLock:null,allowedBlocks:["grids/area"]}),fe(we,null,fe("div",{className:l},d),i)}return fe(Be,{key:"placeholder",label:b("section.layout")},fe(me,{section:e,presets:X,onChange:function(e,n){return function(e,n){t.setAttributes(e),t.setState({firstInsert:!0})}(e)}}))}),save:function(t){return fe(xe.Content,null)}}),function(t,e,n){var a=["#block-"+t.clientId,"#clone-block-"+t.clientId];void 0===window._grids_block_props&&(window._grids_block_props={}),void 0===window._grids_block_props[t.clientId]&&(window._grids_block_props[t.clientId]={});var o=window._grids_block_props[t.clientId],r=ie(t.clientId),i=a.join(",")+"{";$.each(["columns","rows","height","gutter","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","background-color","background-repeat","background-size","background-attachment","background-position-x","background-position-y","zIndex"],function(e,n){switch(n){case"columns":case"rows":void 0!==t.attributes[n]&&(i+="--area-"+n+":"+t.attributes[n]+";");break;case"height":""!==t.attributes.height_desktop&&(i+="--area-"+n+":"+t.attributes.height_desktop+t.attributes.height_desktop_unit+";");break;case"gutter":var a=wp.data.select("grids").getGutterX("desktop");""!==a.value&&""!==a.unit?i+="--area-"+n+":"+a.value+a.unit+";":i+="--area-"+n+":0px;";break;case"margin-top":if(""!==t.attributes.margin_desktop_top){i+="--area-"+n+":"+t.attributes.margin_desktop_top+t.attributes.margin_desktop_top_unit+";";var o=t.attributes.margin_desktop_top;o<0&&(o=0),i+="--area-border-"+n+":"+o+t.attributes.margin_desktop_top_unit+";"}break;case"margin-right":if(""!==t.attributes.margin_desktop_right){i+="--area-"+n+":"+t.attributes.margin_desktop_right+t.attributes.margin_desktop_right_unit+";";var r=t.attributes.margin_desktop_right;r<0&&(r=0),i+="--area-border-"+n+":"+r+t.attributes.margin_desktop_right_unit+";"}break;case"margin-bottom":if(""!==t.attributes.margin_desktop_bottom){i+="--area-"+n+":"+t.attributes.margin_desktop_bottom+t.attributes.margin_desktop_bottom_unit+";";var s=t.attributes.margin_desktop_bottom;s<0&&(s=0),i+="--area-border-"+n+":"+s+t.attributes.margin_desktop_bottom_unit+";"}break;case"margin-left":if(""!==t.attributes.margin_desktop_left){i+="--area-"+n+":"+t.attributes.margin_desktop_left+t.attributes.margin_desktop_left_unit+";";var c=t.attributes.margin_desktop_left;c<0&&(c=0),i+="--area-border-"+n+":"+c+t.attributes.margin_desktop_left_unit+";"}break;case"padding-top":""!==t.attributes.padding_desktop_top&&(i+="--area-"+n+":"+t.attributes.padding_desktop_top+t.attributes.padding_desktop_top_unit+";");break;case"padding-right":""!==t.attributes.padding_desktop_right&&(i+="--area-"+n+":"+t.attributes.padding_desktop_right+t.attributes.padding_desktop_right_unit+";");break;case"padding-bottom":""!==t.attributes.padding_desktop_bottom&&(i+="--area-"+n+":"+t.attributes.padding_desktop_bottom+t.attributes.padding_desktop_bottom_unit+";");break;case"padding-left":""!==t.attributes.padding_desktop_left&&(i+="--area-"+n+":"+t.attributes.padding_desktop_left+t.attributes.padding_desktop_left_unit+";");break;case"background-color":""!==t.attributes.background_desktop_color&&(i+="--area-"+n+":"+t.attributes.background_desktop_color+";");break;case"background-repeat":""!==t.attributes.background_desktop_repeat&&(i+="--area-"+n+":"+t.attributes.background_desktop_repeat+";");break;case"background-size":""!==t.attributes.background_desktop_size&&(i+="--area-"+n+":"+t.attributes.background_desktop_size+";");break;case"background-attachment":""!==t.attributes.background_desktop_attachment&&(i+="--area-"+n+":"+t.attributes.background_desktop_attachment+";");break;case"background-position-x":""!==t.attributes.background_desktop_position_x&&(i+="--area-"+n+":"+100*t.attributes.background_desktop_position_x+"%;");break;case"background-position-y":""!==t.attributes.background_desktop_position_y&&(i+="--area-"+n+":"+100*t.attributes.background_desktop_position_y+"%;");break;case"zIndex":void 0!==t.attributes.desktop_zIndex&&(i+="--area-z-index:"+t.attributes.desktop_zIndex+";")}}),0==t.attributes.desktop_display&&(i+="--area-display-opacity:0.4;");var s=st(n.clientId);if(s){var c="",l="flex-start";if(!0===s.attributes.stretch)switch(c="stretch",t.attributes.vertical_alignment){case"top":l="flex-start";break;case"center":l="center";break;case"bottom":l="flex-end"}else switch(t.attributes.vertical_alignment){case"top":c="flex-start";break;case"center":c="center";break;case"bottom":c="flex-end"}i+="--area-vertical_alignment:"+c+";",i+="--area-inner_vertical_alignment:"+l+";"}i+="}",r.html(i),""!==t.attributes.background_desktop_image&&o.background_desktop_image!==t.attributes.background_desktop_image&&(r=ie(t.clientId+"-background-image"),i=a.join(",")+"{",i+="--area-background-image:/* background_desktop_image */;",e&&void 0!==e.background_desktop_image&&e.background_desktop_image(t.attributes.background_desktop_image,r),i+="}",r.html(i)),window._grids_block_props[t.clientId]=Object.assign({},o,t.attributes)}),je=wp.blocks.registerBlockType,Ae=wp.element,Ne=Ae.createElement,De=Ae.Fragment,Ge=wp.blockEditor,Fe=Ge.InnerBlocks,Me=Ge.InspectorControls,Je=Ge.BlockControls,Le=wp.components,Re=Le.Toolbar,Xe=Le.DropdownMenu,Ue=(Le.TextControl,Object.assign({blockId:{type:"string",default:""},_test:{type:"boolean",source:"internal",default:!1},column:{type:"object",default:{start:1,end:1}},row:{type:"object",default:{start:1,end:1}},advanced_spacing:{type:"boolean",default:!1},vertical_alignment:{type:"string",default:"top"},order:{type:"integer",default:0},name:{type:"string",default:""}},nt,ae,Xt)),qe=(je("grids/area",{title:b("area.title"),description:b("area.description"),category:"layout",supports:{html:!1,reusable:!1,inserter:!1},parent:["grids/section"],icon:Ne("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},Ne("g",{fill:"none","fill-rule":"evenodd"},Ne("path",{d:"m18 17v-14c0-.55228475-.4477153-1-1-1h-14c-.55228475 0-1 .44771525-1 1v14c0 .5522847.44771525 1 1 1h14c.5522847 0 1-.4477153 1-1zm-.2395833-17c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#0d0d0d"}),Ne("rect",{fill:"#35a7ff",height:"10",rx:".6",width:"10",x:"5",y:"5"}))),attributes:Ue,edit:function(t){t.attributes.blockId!==t.clientId&&t.setAttributes({blockId:t.clientId});var e=ct(),n=wp.data.select("core/block-editor").getBlocksByClientId(t.clientId);function a(){Ee(t,{background_desktop_image:function(e,n){se(e,t.background_desktop_image_size,n)}},n[0])}a(),window.grids.data.subscribe(a);var r={top:Ne("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},Ne("g",{fill:"#555d66","fill-rule":"evenodd"},Ne("path",{d:"m4 4h12v2h-12z"}),Ne("path",{d:"m4 9h12v2h-12z",opacity:".201056"}),Ne("path",{d:"m4 14h12v2h-12z",opacity:".201056"}),Ne("path",{d:"m18 18v-16h-16v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}))),center:Ne("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},Ne("g",{fill:"#555d66","fill-rule":"evenodd"},Ne("path",{d:"m4 9h12v2h-12z"}),Ne("path",{d:"m4 4h12v2h-12z",opacity:".2"}),Ne("path",{d:"m4 14h12v2h-12z",opacity:".2"}),Ne("path",{d:"m18 18v-16h-16v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"}))),bottom:Ne("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},Ne("g",{fill:"#555d66","fill-rule":"evenodd"},Ne("path",{d:"m4 14h12v2h-12z"}),Ne("path",{d:"m4 9h12v2h-12z",opacity:".2"}),Ne("path",{d:"m4 4h12v2h-12z",opacity:".2"}),Ne("path",{d:"m18 18v-16h-16v16zm-.2395833-18c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z"})))},i=n[0].innerBlocks.length>0;return Ne(De,null,Ne(Fe,{templateLock:!1,renderAppender:i?void 0:function(){return Ne(Fe.ButtonBlockAppender,null)}}),Ne(Me,null,null!==e&&Ne(Ot,e.attributes),Ne(re,o()({onChange:function(e){t.setAttributes(e)}},t.attributes)),Ne(it,o()({onChange:function(e){return t.setAttributes(e)}},t.attributes)),Ne(Vt,o()({onChange:function(e){return t.setAttributes(e)}},t.attributes))),Ne(Je,null,Ne(Re,null,Ne(Xe,{icon:r[t.attributes.vertical_alignment],label:b("area.vertical_alignment"),controls:[{title:b("area.vertical_alignment_top"),icon:r.top,onClick:function(){return t.setAttributes({vertical_alignment:"top"})}},{title:b("area.vertical_alignment_center"),icon:r.center,onClick:function(){return t.setAttributes({vertical_alignment:"center"})}},{title:b("area.vertical_alignment_bottom"),icon:r.bottom,onClick:function(){return t.setAttributes({vertical_alignment:"bottom"})}}]}))))},save:function(){return Ne(Fe.Content,null)}}),wp.element),Ve=qe.createElement,Ze=qe.Fragment,He=function(t){function e(){var t;i()(this,e),t=d()(this,p()(e).apply(this,arguments));Ht()(Ht()(t));var n=t.props.gutter[t.props.breakpoint];return t.state=n,t}return h()(e,t),c()(e,[{key:"onChangeGutter",value:function(t){void 0===t.value&&(t.value=""),this.props.onChange(t)}},{key:"render",value:function(){var t=this;return Ve(Ze,null,Ve("div",{class:"grids-s-c grid-s-gutter"},Ve("h3",null,this.props.label),Ve(S,{advanced:!0,value:this.props.gutter[this.props.breakpoint].value,unit:this.props.gutter[this.props.breakpoint].unit,onChange:function(e){return t.onChangeGutter(e)}})))}}]),e}(qe.Component),We=wp.element,Ke=We.createElement,Qe=We.Fragment,Ye=We.Component,tn=wp.editPost,en=tn.PluginSidebar,nn=tn.PluginSidebarMoreMenuItem,an=wp.plugins.registerPlugin,on=wp.components.PanelBody,rn=wp.data,sn=rn.withSelect,cn=rn.registerStore,ln=(wp.compose.withState,{gutter:{x:{},y:{}}});$.each(L,function(t,e){ln.gutter.x[e.value]={value:"",unit:"px"}}),window.grids.data=cn("grids",{reducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_GUTTER_X":return t.gutter.x[e.data.breakpoint]={value:e.data.value,unit:e.data.unit},t}return t},actions:{setGutterX:function(t,e,n){return{type:"SET_GUTTER_X",data:{breakpoint:t,value:e,unit:n}}}},selectors:{getGutter:function(t){return t.gutter},getGutterX:function(t,e){return t.gutter.x[e]}}});var dn=function(t){function e(){var t;i()(this,e),t=d()(this,p()(e).apply(this,arguments));Ht()(Ht()(t));return t.state=Object.assign({},{breakpoint:"desktop"},JSON.parse(JSON.stringify(ln))),t}return h()(e,t),c()(e,[{key:"componentDidMount",value:function(){var t=this,e="/wp/v2/";switch(this.props.postType){case"post":e+="posts/";break;case"page":e+="pages/";break;default:e+="types/"}e+=this.props.postId,wp.apiFetch({path:e,method:"GET"}).then(function(e){var n={};return e.meta._grids_gutter_x&&(n=JSON.parse(e.meta._grids_gutter_x)),$.each(L,function(t,e){var a=void 0!==n[e.value]?n[e.value]:"",o=void 0!==n[e.value+"_unit"]?n[e.value+"_unit"]:"px";wp.data.dispatch("grids").setGutterX(e.value,a,o)}),t.setState({gutter:wp.data.select("grids").getGutter()}),e},function(t){return t})}},{key:"onChangeGutterX",value:function(t){wp.data.dispatch("grids").setGutterX(this.state.breakpoint,t.value,t.unit),this.setState({gutter:wp.data.select("grids").getGutter()})}},{key:"render",value:function(){var t=this;return Ke(Qe,null,Ke(nn,{target:"grids-sidebar"},b("plugin.name")),Ke(en,{name:"grids-sidebar",title:b("plugin.name")},Ke(on,null,Ke(W,{breakpoint:this.state.breakpoint,onChange:function(e){return t.setState({breakpoint:e})}}),Ke(He,{label:b("components.spacing.gutter_x"),onChange:function(e){t.onChangeGutterX(e)},breakpoint:this.state.breakpoint,gutter:this.state.gutter.x}))))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return!t.isPublishing&&!t.isSaving||t.isAutoSaving||wp.apiRequest({path:"/grids/v1/update-meta?id=".concat(t.postId),method:"POST",data:e}).then(function(t){return t},function(t){return t}),null}}]),e}(Ye),un=sn(function(t,e){var n=e.forceIsSaving,a=t("core/editor"),o=a.getCurrentPostId,r=a.getCurrentPostType,i=a.isSavingPost,s=a.isPublishingPost,c=a.isAutosavingPost;return{postId:o(),postType:r(),isSaving:n||i(),isAutoSaving:c(),isPublishing:s()}})(dn);an("grids",{icon:Ke("svg",{height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},Ke("g",{fill:"none","fill-rule":"evenodd"},Ke("path",{d:"m18 17v-14c0-.55228475-.4477153-1-1-1h-14c-.55228475 0-1 .44771525-1 1v14c0 .5522847.44771525 1 1 1h14c.5522847 0 1-.4477153 1-1zm-.2395833-17c.59028 0 1.11111.22569333 1.5625.67708333s.6770833.97222.6770833 1.5625v15.52083337c0 .5902806-.2256933 1.111109-.6770833 1.5625-.45139.4513911-.97222.6770833-1.5625.6770833h-15.52083337c-.59028066 0-1.111109-.2256922-1.5625-.6770833-.45139113-.451391-.67708333-.9722194-.67708333-1.5625v-15.52083337c0-.59028.2256922-1.11111.67708333-1.5625.451391-.45139.97221934-.67708333 1.5625-.67708333z",fill:"#0d0d0d"}),Ke("rect",{fill:"#ffe605",height:"5",rx:"1",width:"5",x:"3",y:"3"}),Ke("rect",{fill:"#35a7ff",height:"14",rx:"1",width:"6",x:"11",y:"3"}),Ke("rect",{fill:"#ff404d",height:"6",rx:"1",width:"7",x:"3",y:"11"}),Ke("g",{fill:"#0d0d0d"},Ke("path",{d:"m2 6h10v1h-10z"}),Ke("path",{d:"m6 2h1v4h-1z"}),Ke("path",{d:"m8 13h1v5h-1z"}),Ke("path",{d:"m12 2h1v10h-1z"}),Ke("path",{d:"m2 12h16v1h-16z"})))),render:un})}]);